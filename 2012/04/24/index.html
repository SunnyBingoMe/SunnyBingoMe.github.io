<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]--><!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]--><!--[if !(IE 7) & !(IE 8)]><!--><html lang="en-US"><!--<![endif]--><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>24 | April | 2012 | Sunny Blog</title><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="http://log.SunnyBoy.Me/xmlrpc.php"><!--[if lt IE 9]>
<script src="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]--><link rel="alternate" type="application/rss+xml" title="Sunny Blog &raquo; Feed" href="http://log.SunnyBoy.Me/feed/"><link rel="alternate" type="application/rss+xml" title="Sunny Blog &raquo; Comments Feed" href="http://log.SunnyBoy.Me/comments/feed/"><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/log.SunnyBoy.Me\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.1"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style><link rel="stylesheet" id="twentytwelve-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext" type="text/css" media="all"><link rel="stylesheet" id="twentytwelve-style-css" href="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/style.css?ver=4.5.1" type="text/css" media="all"><!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]--><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/jquery/jquery.js?ver=1.12.3"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.0"></script><link rel="https://api.w.org/" href="http://log.SunnyBoy.Me/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://log.SunnyBoy.Me/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://log.SunnyBoy.Me/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 4.5.1"><link rel="icon" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg" sizes="32x32"><link rel="icon" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg"><meta name="msapplication-TileImage" content="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg"></head><body class="archive date custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner"><hgroup><h1 class="site-title"><a href="http://log.SunnyBoy.Me/" title="Sunny Blog" rel="home">Sunny Blog</a></h1>
			<h2 class="site-description">Mind And Hand Let There Be Light.</h2>
		</hgroup><nav id="site-navigation" class="main-navigation" role="navigation"><button class="menu-toggle">Menu</button>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu"><ul><li><a href="http://log.SunnyBoy.Me/">Home</a></li><li class="page_item page-item-402"><a href="http://log.SunnyBoy.Me/about_me/">About me &#20851;&#20110;&#25105;</a></li><li class="page_item page-item-1566"><a href="http://log.SunnyBoy.Me/media/">Media &#25105;&#30340;&#38899;&#20048;</a></li></ul></div>
		</nav><!-- #site-navigation --></header><!-- #masthead --><div id="main" class="wrapper">
	<section id="primary" class="site-content"><div id="content" role="main">

					<header class="archive-header"><h1 class="archive-title">Daily Archives: <span>2012/04/24</span></h1>
			</header><!-- .archive-header --><article id="post-13646" class="post-13646 post type-post status-publish format-standard hentry category-softskills"><header class="entry-header"><h1 class="entry-title">
				<a href="http://log.SunnyBoy.Me/2012/04/24/13646/" rel="bookmark">how to set up as router / bridge</a>
			</h1>
										<div class="comments-link">
					<a href="http://log.SunnyBoy.Me/2012/04/24/13646/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header --><div class="entry-content">
			<h1><strong>FreeBsd 7 &nbsp;(local only, no NAT):</strong></h1>
<p>#/etc/rc.conf</p>
<p style="padding-left: 30px;">ifconfig_em0=&rdquo;inet 10.0.0.12 netmask 255.255.255.0&Prime;<br>
ifconfig_em1=&rdquo;inet 10.0.1.13 netmask 255.255.255.0&Prime;</p>
<p style="padding-left: 30px;">#as router, setup notice: will get route problem if using the same net-addr</p>
<p>#/etc/sysctl.conf</p>
<p style="padding-left: 30px;">net.inet.ip.forwarding=1</p>
<p style="padding-left: 30px;">#temp: &gt; sysctl&nbsp;net.inet.ip.forwarding=1;</p>
<p>#reboot</p>
<p>ping test: could get reply since icmp packet 113. where are the first 112 packets???</p>
<h1><strong>FreeBsd 7 bridge</strong></h1>
<p><strong><strong>shaper freeBsd-v7 : bridge <a href="http://www.freebsd.org/doc/handbook/network-bridging.html">http://www.freebsd.org/doc/handbook/network-bridging.html</a><br></strong></strong></p>
<p dir="ltr">#/etc/rc.conf</p>
<p dir="ltr" style="padding-left: 30px;">ifconfig_bge0=&rdquo;inet 192.168.1.176 netmask 255.255.255.0&Prime;</p>
<p dir="ltr" style="padding-left: 30px;">cloned_interfaces=&rdquo;bridge0&Prime;</p>
<p dir="ltr" style="padding-left: 30px;">ifconfig_bridge0=&rdquo;addm em0 addm em1 up&rdquo;</p>
<p dir="ltr" style="padding-left: 30px;">ifconfig_em0=&rdquo;up&rdquo;</p>
<p dir="ltr" style="padding-left: 30px;">ifconfig_em1=&rdquo;up&rdquo;</p>
<p dir="ltr" style="padding-left: 30px;">defaultrouter=&rdquo;192.168.1.168&Prime;</p>
<p dir="ltr" style="padding-left: 30px;">nameserver 8.8.8.8</p>
<p dir="ltr" style="padding-left: 30px;">firewall_enable=&rdquo;YES&rdquo;</p>
<p dir="ltr" style="padding-left: 30px;">firewall_type=&rdquo;open&rdquo;</p>
<p dir="ltr">#/etc/sysctl.conf</p>
<p dir="ltr" style="padding-left: 30px;">net.inet.ip.forwarding=1</p>
<p dir="ltr" style="padding-left: 30px;">#or, using cmd : sysctl net.inet.ip.forwarding=1;</p>
<h1><strong>Ubuntu 10.04&nbsp;(NAT):</strong></h1>
<p>#/etc/sysctl.conf</p>
<p style="padding-left: 30px;">net.ipv4.ip_forward = 1</p>
<p>#sysctl -p</p>
<p>#/etc/rc.local</p>
<pre> iptables --table nat --append POSTROUTING --out-interface &lt;outer-WAN&gt;0 -j MASQUERADE</pre>
<pre> iptables --append FORWARD --in-interface &lt;eth-inner-lan&gt;1 -j ACCEPT</pre>
<p># service networking restart</p>
<h1><strong>Ubuntu 10.04&nbsp;(bridge):</strong></h1>
<p># sudo apt-get install bridge-utils;</p>
<h2>type1: bridge with ip:</h2>
<div>
<p>auto br0<br>
iface br0 inet static</p>
<p style="padding-left: 30px;"><span style="color: #333399;">address 192.168.1.2</span><br><span style="color: #333399;"> network 192.168.1.0</span><br><span style="color: #333399;"> netmask 255.255.255.0</span><br><span style="color: #333399;"> broadcast 192.168.1.255</span><br><span style="color: #333399;"> gateway 192.168.1.1</span><br>
bridge_ports all</p>
</div>
<h2>type2: anonymous bridge (bridge without IP):</h2>
<div>auto br1</div>
<div>iface br1 inet manual</div>
<div style="padding-left: 30px;">bridge_ports eth1 eth2</div>
<div style="padding-left: 30px;">#bridge_ports all</div>
<div style="padding-left: 30px;">bridge_maxwait 0</div>
<p>ref:&nbsp;<a href="http://manpages.ubuntu.com/manpages/lucid/man5/bridge-utils-interfaces.5.html">http://manpages.ubuntu.com/manpages/lucid/man5/bridge-utils-interfaces.5.html</a></p>
<p>&nbsp;</p>
<h1>Change nic (network interface card) name</h1>
<p>vim /etc/udev/rules.d/70-persistent-net.rules</p>
<p>ref:&nbsp;<a href="https://help.ubuntu.com/10.04/serverguide/network-configuration.html">https://help.ubuntu.com/10.04/serverguide/network-configuration.html</a></p>
<p>&nbsp;</p>
<h1>Windows 7</h1>
<pre>&gt; <strong>netsh wlan set hostednetwork mode=allow ssid="&lt;ssid_name&gt;" key=&lt;passwd_plain_text&gt;</strong>
The hosted network mode has been set to allow.
The SSID of the hosted network has been successfully changed.
The user key passphrase of the hosted network has been successfully changed.</pre>
<pre>&gt; <strong>netsh wlan start hostednetwork</strong>
The hosted network started.</pre>
<p>&#30561;&#30496;/&#20241;&#30496;&#21518;&#38656;&#35201;&#20877;&#27425;&#25191;&#34892;&rdquo;start&rdquo;&#21629;&#20196;.</p>
<p><span style="line-height: 1.714285714; font-size: 1rem;">ref:&nbsp;</span></p>
<p><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;ved=0CD8QFjAC&amp;url=http%3A%2F%2Fmsdn.microsoft.com%2Fen-us%2Flibrary%2Fwindows%2Fdesktop%2Fdd815243(v%3Dvs.85).aspx&amp;ei=37TXUojjAcrDtQbNyIGwDQ&amp;usg=AFQjCNEzn6C02m2h5MU2EC33p0I5bbMJJw&amp;sig2=EPeUw2qJEs856d7KU9yPlw" data-href="http://msdn.microsoft.com/en-us/library/windows/desktop/dd815243(v=vs.85).aspx">About the Wireless&nbsp;Hosted Network&nbsp;(Windows) &ndash; MSDN &ndash; Microsoft</a></p>
<p><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CC8QFjAA&amp;url=http%3A%2F%2Fcommunity.spiceworks.com%2Fhow_to%2Fshow%2F897-how-to-set-up-virtual-wifi-in-windows-7&amp;ei=37TXUojjAcrDtQbNyIGwDQ&amp;usg=AFQjCNGhNWWVds0GsJHlCIiAy6RSLXjI1g&amp;sig2=dK-bmQmRaK9SPaDYDnZnqw" data-href="http://community.spiceworks.com/how_to/show/897-how-to-set-up-virtual-wifi-in-windows-7">How to&nbsp;set&nbsp;up Virtual Wifi in Windows 7</a></p>
<p>&nbsp;</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://log.SunnyBoy.Me/category/softskills/" rel="category tag">Soft&amp;Skills</a> on <a href="http://log.SunnyBoy.Me/2012/04/24/13646/" title="9:20 PM" rel="bookmark"><time class="entry-date" datetime="2012-04-24T21:20:32+00:00">2012/04/24</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://log.SunnyBoy.Me/author/ggbingo/" title="View all posts by Sunny" rel="author">Sunny</a></span></span>.								</footer><!-- .entry-meta --></article><!-- #post --><article id="post-13645" class="post-13645 post type-post status-publish format-standard hentry category-softskills"><header class="entry-header"><h1 class="entry-title">
				<a href="http://log.SunnyBoy.Me/2012/04/24/13645/" rel="bookmark">Installing Nginx in Ubuntu 10.04 LTS</a>
			</h1>
										<div class="comments-link">
					<a href="http://log.SunnyBoy.Me/2012/04/24/13645/#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header --><div class="entry-content">
			<p>nginx is a great alternative to apache2, it is better to handle static web pages and files. another one is lighttpd which is optimized for long-time keep-alive (a lot of connections).</p>
<p>sudo -s</p>
<p>apt-get install gcc g++;</p>
<p>wget http://downloads.sourceforge.net/pcre/pcre-8.10.tar.bz2 (seems hard-coded version in nginx v1.2; otherwise, such as me, ln -s xxx.so.xxx &hellip;); tar xvjf &hellip;; cd &hellip;; ./configure; make; make install;</p>
<p>cd nginx; ./configure &ndash;without-http_gzip_module (do not need and do not want in experiments); make; make install;</p>
<p>/usr/local/nginx/conf# vim nginx.conf;&nbsp;keepalive_timeout &nbsp;0. #server_name non-local???</p>
<p>the second time when i started it, it could start work, not the first time. do not know why. try nginx; nginx -s stop; nginx.</p>
<p>ref:</p>
<p><a href="http://www.asep.us/2011/05/30/nginx-instalation-pcre-library-not-found/">http://www.asep.us/2011/05/30/nginx-instalation-pcre-library-not-found/</a></p>
<p>&nbsp;</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://log.SunnyBoy.Me/category/softskills/" rel="category tag">Soft&amp;Skills</a> on <a href="http://log.SunnyBoy.Me/2012/04/24/13645/" title="9:10 PM" rel="bookmark"><time class="entry-date" datetime="2012-04-24T21:10:12+00:00">2012/04/24</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://log.SunnyBoy.Me/author/ggbingo/" title="View all posts by Sunny" rel="author">Sunny</a></span></span>.								</footer><!-- .entry-meta --></article><!-- #post --></div><!-- #content -->
	</section><!-- #primary --><div id="secondary" class="widget-area" role="complementary">
			<aside id="calendar-3" class="widget widget_calendar"><h3 class="widget-title">Posts Calendar</h3><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar"><caption>April 2012</caption>
	<thead><tr><th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr></thead><tfoot><tr><td colspan="3" id="prev"><a href="http://log.SunnyBoy.Me/2012/03/">&laquo; Mar</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://log.SunnyBoy.Me/2012/05/">May &raquo;</a></td>
	</tr></tfoot><tbody><tr><td colspan="6" class="pad">&nbsp;</td><td>1</td>
	</tr><tr><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/09/" aria-label="Posts published on April 9, 2012">9</a></td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td><a href="http://log.SunnyBoy.Me/2012/04/15/" aria-label="Posts published on April 15, 2012">15</a></td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/16/" aria-label="Posts published on April 16, 2012">16</a></td><td>17</td><td><a href="http://log.SunnyBoy.Me/2012/04/18/" aria-label="Posts published on April 18, 2012">18</a></td><td>19</td><td>20</td><td>21</td><td>22</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/23/" aria-label="Posts published on April 23, 2012">23</a></td><td><a href="http://log.SunnyBoy.Me/2012/04/24/" aria-label="Posts published on April 24, 2012">24</a></td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/30/" aria-label="Posts published on April 30, 2012">30</a></td>
		<td class="pad" colspan="6">&nbsp;</td>
	</tr></tbody></table></div></aside><aside id="categories-3" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul><li class="cat-item cat-item-3"><a href="http://log.SunnyBoy.Me/category/default/">Default</a> (75)
</li>
	<li class="cat-item cat-item-4"><a href="http://log.SunnyBoy.Me/category/english/">English</a> (1)
</li>
	<li class="cat-item cat-item-5"><a href="http://log.SunnyBoy.Me/category/for-the-music/">For The Music !</a> (55)
</li>
	<li class="cat-item cat-item-27"><a href="http://log.SunnyBoy.Me/category/jobb/">Jobb</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="http://log.SunnyBoy.Me/category/languages/">Languages</a> (5)
</li>
	<li class="cat-item cat-item-7"><a href="http://log.SunnyBoy.Me/category/leading/">Leading</a> (36)
</li>
	<li class="cat-item cat-item-83"><a href="http://log.SunnyBoy.Me/category/life/">Life</a> (134)
</li>
	<li class="cat-item cat-item-72"><a href="http://log.SunnyBoy.Me/category/matlab/">Matlab</a> (1)
</li>
	<li class="cat-item cat-item-77"><a href="http://log.SunnyBoy.Me/category/nix/">nix</a> (5)
</li>
	<li class="cat-item cat-item-1"><a href="http://log.SunnyBoy.Me/category/others/">Others</a> (719)
</li>
	<li class="cat-item cat-item-31"><a href="http://log.SunnyBoy.Me/category/php/">Php</a> (3)
</li>
	<li class="cat-item cat-item-82"><a href="http://log.SunnyBoy.Me/category/pol/">POL</a> (9)
</li>
	<li class="cat-item cat-item-86"><a href="http://log.SunnyBoy.Me/category/py/">py</a> (1)
</li>
	<li class="cat-item cat-item-76"><a href="http://log.SunnyBoy.Me/category/seo/">seo</a> (1)
</li>
	<li class="cat-item cat-item-62"><a href="http://log.SunnyBoy.Me/category/softskills/">Soft&amp;Skills</a> (47)
</li>
	<li class="cat-item cat-item-8"><a href="http://log.SunnyBoy.Me/category/stefanie/">Stefanie</a> (195)
</li>
	<li class="cat-item cat-item-11"><a href="http://log.SunnyBoy.Me/category/svenska/">Svenska</a> (25)
</li>
	<li class="cat-item cat-item-73"><a href="http://log.SunnyBoy.Me/category/sverige/">Sverige</a> (3)
</li>
	<li class="cat-item cat-item-12"><a href="http://log.SunnyBoy.Me/category/swe/">SWE</a> (2)
</li>
	<li class="cat-item cat-item-74"><a href="http://log.SunnyBoy.Me/category/cssdiv/">web</a> (5)
</li>
		</ul></aside><aside id="linkcat-2" class="widget widget_links"><h3 class="widget-title">Suggest Link</h3>
	<ul class="xoxo blogroll"><li><a href="http://blog.zhaoqi.org" rel="friend" title="A blog of my best friend." target="_blank">Q's Blog</a>
A blog of my best friend.</li>
<li><a href="http://db.tt/GlIsWkt" title="Use this link to get 250M bonus  ~ " target="_blank">Recommended Soft: DropBox</a>
Use this link to get 250M bonus  ~ </li>
<li><a href="http://feedburner.google.com/fb/a/mailverify?uri=SunnyRSS&amp;loc=en_US">Subscribe My Blog by Email</a></li>
<li><a href="http://log.SunnyBoy.Me/feed/">Subscribe My Blog by RSS</a></li>

	</ul></aside></div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo"><div class="site-info">
						<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon --></div><!-- #page -->

<script type="text/javascript" src="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/js/navigation.js?ver=20140711"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/wp-embed.min.js?ver=4.5.1"></script></body></html>
