<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]--><!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]--><!--[if !(IE 7) & !(IE 8)]><!--><html lang="en-US"><!--<![endif]--><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>mod_apache_snmp, net-SNMP (&#32473;apache2&#28155;&#21152;SNMP&#25903;&#25345;) | Sunny Blog</title><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="http://log.SunnyBoy.Me/xmlrpc.php"><!--[if lt IE 9]>
<script src="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]--><link rel="alternate" type="application/rss+xml" title="Sunny Blog &raquo; Feed" href="http://log.SunnyBoy.Me/feed/"><link rel="alternate" type="application/rss+xml" title="Sunny Blog &raquo; Comments Feed" href="http://log.SunnyBoy.Me/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Sunny Blog &raquo; mod_apache_snmp, net-SNMP (&#32473;apache2&#28155;&#21152;SNMP&#25903;&#25345;) Comments Feed" href="http://log.SunnyBoy.Me/2012/04/18/13618/feed/"><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/log.SunnyBoy.Me\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.1"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style><link rel="stylesheet" id="twentytwelve-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext" type="text/css" media="all"><link rel="stylesheet" id="twentytwelve-style-css" href="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/style.css?ver=4.5.1" type="text/css" media="all"><!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]--><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/jquery/jquery.js?ver=1.12.3"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.0"></script><link rel="https://api.w.org/" href="http://log.SunnyBoy.Me/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://log.SunnyBoy.Me/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://log.SunnyBoy.Me/wp-includes/wlwmanifest.xml"><link rel="prev" title="ubuntu 7 install vmware tools" href="http://log.SunnyBoy.Me/2012/04/16/13610/"><link rel="next" title="&#27599;&#21608;&#24635;&#32467; week16 2012-04-22" href="http://log.SunnyBoy.Me/2012/04/23/13642/"><meta name="generator" content="WordPress 4.5.1"><link rel="canonical" href="http://log.SunnyBoy.Me/2012/04/18/13618/"><link rel="shortlink" href="http://log.SunnyBoy.Me/?p=13618"><link rel="alternate" type="application/json+oembed" href="http://log.SunnyBoy.Me/wp-json/oembed/1.0/embed?url=http%3A%2F%2FBlog.SunnyBoy.Me%2F2012%2F04%2F18%2F13618%2F"><link rel="alternate" type="text/xml+oembed" href="http://log.SunnyBoy.Me/wp-json/oembed/1.0/embed?url=http%3A%2F%2FBlog.SunnyBoy.Me%2F2012%2F04%2F18%2F13618%2F&amp;format=xml"><link rel="icon" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg" sizes="32x32"><link rel="icon" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg"><meta name="msapplication-TileImage" content="http://log.SunnyBoy.Me/wp-content/uploads/2010/10/e7919ee585b8ae9809ae98193efbc9f.jpg"></head><body class="single single-post postid-13618 single-format-standard custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner"><hgroup><h1 class="site-title"><a href="http://log.SunnyBoy.Me/" title="Sunny Blog" rel="home">Sunny Blog</a></h1>
			<h2 class="site-description">Mind And Hand Let There Be Light.</h2>
		</hgroup><nav id="site-navigation" class="main-navigation" role="navigation"><button class="menu-toggle">Menu</button>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu"><ul><li><a href="http://log.SunnyBoy.Me/">Home</a></li><li class="page_item page-item-402"><a href="http://log.SunnyBoy.Me/about_me/">About me &#20851;&#20110;&#25105;</a></li><li class="page_item page-item-1566"><a href="http://log.SunnyBoy.Me/media/">Media &#25105;&#30340;&#38899;&#20048;</a></li></ul></div>
		</nav><!-- #site-navigation --></header><!-- #masthead --><div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-13618" class="post-13618 post type-post status-publish format-standard hentry category-leading category-softskills"><header class="entry-header"><h1 class="entry-title">mod_apache_snmp, net-SNMP (&#32473;apache2&#28155;&#21152;SNMP&#25903;&#25345;)</h1>
										<div class="comments-link">
					<a href="http://log.SunnyBoy.Me/2012/04/18/13618/#comments">3 Replies</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header --><div class="entry-content">
			<h2>Tested on platform:</h2>
<ul><li>vmware</li>
<li>Linux ubuntu 2.6.32-38-generic #83-Ubuntu SMP Wed Jan 4 11:13:04 UTC 2012 i686 GNU/Linux</li>
<li>DISTRIB_ID=Ubuntu;&nbsp;DISTRIB_RELEASE=10.04; DISTRIB_DESCRIPTION=&rdquo;Ubuntu 10.04.4 LTS&rdquo;</li>
<li>httpd-2.0.64.tar.bz2;&nbsp;net-snmp-5.4.4;&nbsp;mod_ap2_snmp_1.04.</li>
</ul><ul><li>sudo -s;</li>
<li>apt-get remove lamp-server^ snmpd # if you have already installed apache or snmp-server.</li>
</ul><h2>Just do it:</h2>
<p style="padding-left: 30px;"><a href="http://mod-apache-snmp.sourceforge.net/english/docs.htm">http://mod-apache-snmp.sourceforge.net/english/docs.htm</a></p>
<p style="padding-left: 30px;">(below is a summary)</p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>1) Install Apache Web Server with DSO support enabled.</strong></span></p>
<pre style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;">./configure --enable-so; make; make install</span></pre>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>2) Unzip NET-SNMP sources.</strong></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>3) Unzip Mod-APACHE-SNMP sources.</strong></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>4) Copy files into Net-SNMP directory to support Apache&rsquo;s MIB:</strong></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;">&ndash; Copy net-snmp-module\ &ndash;&gt;PATH-SOURCES-NET-SNMP\agent\mibgroup\apache2\ (create apache2\)<br>
&ndash; Copy extra\ap2_snmp.h &ndash;&gt; PATH-SOURCES-NET-SNMP\agent\mibgroup\<br>
&ndash; Copy mib\APACHE2-MIB.txt &ndash;&gt; PATH-SOURCES-NET-SNMP\mibs\<br></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>5) Install Net-SNMP</strong></span></p>
<pre style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;">./configure --with-mib-modules=ap2_snmp make make install</span></pre>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;"><strong>6) Compile and install SNMP module for Apache.</strong></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;">&ndash; Edit install.sh and modify the variables with the correct path of Apache and Net-SNMP libraries.<br>
&ndash; \PATH-SOURCES-MOD-APACHE-SNMP\install.sh</span></p>
<h2>Notice:</h2>
<ul><li>Step-1, Have to compile apache2 from source code, otherwise step-6 could not find the DSO-related file (the apache2-dev has conflict with other package(s) while using apt-get).</li>
<li>Step-4, when copying&nbsp;net-snmp-module, rename this folder to apache2 (or copying the content), instead of putting it as a sub-folder in apache2.</li>
<li>Step-5, delete the spaces before and after the &lsquo;=&rsquo; equal sign. (just like bash).</li>
<ul><li>When asking default SNMP version, type in 1, as 2c is wrong and 2 does not work. // do not know the reason yet; got the same errors when start apache2 but only &lsquo;1&rsquo; works when <em>snmpget</em>. //TODO ???</li>
<li>I &lsquo;make clean&rsquo;-ed after ./configure, as there are some .o files existing.</li>
</ul></ul><h2>Hints:</h2>
<ul><li>1)<em>&nbsp;ld</em> Cannot find&nbsp;<em>crypto</em> dynamic&nbsp;libriary<em>.</em></li>
<ul><li><em>locate libcrypto ; then usually: ln -s&nbsp;libcrypto.so.1.0.0 &nbsp;libcrypto.so //??? why not libcrypto.so.3.x.x which exists on some guys&rsquo; machines.</em></li>
</ul><li>2)&nbsp;<em>cp</em> APACHE2-MIB.TXT to /usr/local/share/snmp/mibs/ and <em>chmod +r </em>//seems the author forgets to cp.</li>
<li>3) The config part is confusing, just do these:</li>
<ul><li><em>snmpconf -g basic_setup.</em>&nbsp;OBS: must give apache the permission to&nbsp;write into snmp agent.&nbsp;// ignored snmpv3 config;</li>
<li>cd /usr/local/apache2/conf/; vim httpd.conf</li>
</ul></ul><p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #888888;">#httpd.conf example (using the module&rsquo;s directiv<span style="color: #808080;">es)</span></span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">LoadModule&nbsp;<strong>ap2_snmp_module</strong>&nbsp;modules/mod_ap2_snmp.so</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">#seems &ldquo;ExtendedStatus&rdquo; does not matter // TODO???</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;"># though also write in the &lt;Location server-status&gt; &lt;/&gt;&nbsp;<a href="http://httpd.apache.org/docs/2.2/mod/mod_status.html"><span style="color: #ff00ff;">http://httpd.apache.org/docs/2.2/mod/mod_status.html</span></a>&nbsp;.</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">#test result: these &lsquo;status&rsquo; things do not matter.</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">#ExtendedStatus On #default: Off</span></p>
<p style="padding-left: 60px;"><span style="color: #ff00ff; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small;">&lt;Location /</span><strong style="color: #ff00ff; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small;">ap2_snmp</strong><span style="color: #ff00ff; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small;">&gt;</span></p>
<p style="padding-left: 90px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">Sethandler ap2_snmp # handler managed by snmp module.</span></p>
<p style="padding-left: 90px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">Order Deny,Allow</span></p>
<p style="padding-left: 90px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">Deny from all</span></p>
<p style="padding-left: 90px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">Allow from 127.0.0.1</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">&lt;/Location&gt;</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;"> <strong>snmp_community</strong>&nbsp;public<br><strong>snmp_agent_address</strong>&nbsp;localhost<br><strong>snmp_tmp_dir</strong>&nbsp;/tmp/</span></p>
<p style="padding-left: 60px;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; color: #ff00ff;">#version 1 or 2, does not matter. (though choose 1 when ./configure the net-snmp)<br><strong>snmp_version</strong>&nbsp;1<br>
#i do not use v3<br><strong>#snmpv3_user</strong>&nbsp;user1 pass1<br><strong>snmp_http_address</strong>&nbsp;127.0.0.1 8080</span></p>
<ul><li>4) To run:</li>
<ul><li>cd /usr/local/sbin; ./snmpd #run snmpd before apache2</li>
<li>cd /usr/local/apache2/bin; ./httpd</li>
<ul><li>[error] AP2_SNMP: agentHttpAddress set to:</li>
<li>[error] 127.0.0.1:8080</li>
<li>#looks like &lsquo;messages&rsquo; instead of &lsquo;errors&rsquo;</li>
</ul></ul><li>5) Finally, Test the system using &lsquo;snmpget&rsquo; command:</li>
<ul><li>snmpget -v1 -c public localhost APACHE2-MIB::serverUptime.0</li>
<li>snmpget -v2c -c public localhost APACHE2-MIB::httpError404.0</li>
<li>#seems both versions work.</li>
</ul><li>6) To stop:</li>
<ul><li>./httpd -k stop &amp;&amp; ps aux|grep snmpd |grep -v grep|cut -c 9-15 |xargs kill;</li>
</ul></ul></div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://log.SunnyBoy.Me/category/leading/" rel="category tag">Leading</a>, <a href="http://log.SunnyBoy.Me/category/softskills/" rel="category tag">Soft&amp;Skills</a> on <a href="http://log.SunnyBoy.Me/2012/04/18/13618/" title="3:58 PM" rel="bookmark"><time class="entry-date" datetime="2012-04-18T15:58:35+00:00">2012/04/18</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://log.SunnyBoy.Me/author/ggbingo/" title="View all posts by Sunny" rel="author">Sunny</a></span></span>.								</footer><!-- .entry-meta --></article><!-- #post --><nav class="nav-single"><h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="http://log.SunnyBoy.Me/2012/04/16/13610/" rel="prev"><span class="meta-nav">&larr;</span> ubuntu 7 install vmware tools</a></span>
					<span class="nav-next"><a href="http://log.SunnyBoy.Me/2012/04/23/13642/" rel="next">&#27599;&#21608;&#24635;&#32467; week16 2012-04-22 <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single --><div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			3 thoughts on &ldquo;<span>mod_apache_snmp, net-SNMP (&#32473;apache2&#28155;&#21152;SNMP&#25903;&#25345;)</span>&rdquo;		</h2>

		<ol class="commentlist"><li class="comment even thread-even depth-1" id="li-comment-281">
		<article id="comment-281" class="comment"><header class="comment-meta comment-author vcard"><img alt="" src="http://2.gravatar.com/avatar/5d52e9b724b93c8f1f838f3a8a86b98d?s=44&amp;d=mm&amp;r=g" srcset="http://2.gravatar.com/avatar/5d52e9b724b93c8f1f838f3a8a86b98d?s=88&amp;d=mm&amp;r=g" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Arthur</b> </cite><a href="http://log.SunnyBoy.Me/2012/04/18/13618/#comment-281"><time datetime="2012-09-28T15:11:31+00:00">2012/09/28 at 3:11 PM</time></a>			</header><!-- .comment-meta --><section class="comment-content comment"><p>I have some problems in the 6 step, maybe any can help me?</p>
<p>root@ubuntu:/home/aduarte/Downloads/mod_ap2_snmp_1.04# ./install.sh</p>
<p>Use of assignment to $[ is deprecated at /usr/local/apache2/bin/apxs line 86.<br>
/usr/local/apache2/build/libtool &ndash;silent &ndash;mode=compile gcc -prefer-pic  -DAP_HAVE_DESIGNATED_INITIALIZER -D_REENTRANT -D_GNU_SOURCE -g -O2 -pthread -I/usr/local/apache2/include  -I/usr/local/apache2/include   -I/usr/local/apache2/include  -I/usr/local/include  -c -o mod_ap2_snmp.lo mod_ap2_snmp.c &amp;&amp; touch mod_ap2_snmp.slo<br>
mod_ap2_snmp.c: In function &lsquo;snmp_set&rsquo;:<br>
mod_ap2_snmp.c:147:11: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c:182:2: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;set_agent_address&rsquo;:<br>
mod_ap2_snmp.c:200:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;set_community&rsquo;:<br>
mod_ap2_snmp.c:215:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;set_tmp_dir&rsquo;:<br>
mod_ap2_snmp.c:236:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;set_snmp_http_address&rsquo;:<br>
mod_ap2_snmp.c:300:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;ap2_snmp_pre_mpm&rsquo;:<br>
mod_ap2_snmp.c:350:2: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c:359:2: warning: passing argument 3 of &lsquo;snmp_set&rsquo; discards &lsquo;const&rsquo; qualifier from pointer target type [enabled by default]<br>
mod_ap2_snmp.c:75:12: note: expected &lsquo;char *&rsquo; but argument is of type &lsquo;const char *&rsquo;<br>
mod_ap2_snmp.c:360:2: warning: passing argument 3 of &lsquo;snmp_set&rsquo; discards &lsquo;const&rsquo; qualifier from pointer target type [enabled by default]<br>
mod_ap2_snmp.c:75:12: note: expected &lsquo;char *&rsquo; but argument is of type &lsquo;const char *&rsquo;<br>
mod_ap2_snmp.c:361:2: warning: passing argument 3 of &lsquo;snmp_set&rsquo; discards &lsquo;const&rsquo; qualifier from pointer target type [enabled by default]<br>
mod_ap2_snmp.c:75:12: note: expected &lsquo;char *&rsquo; but argument is of type &lsquo;const char *&rsquo;<br>
mod_ap2_snmp.c:375:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c:381:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c:382:7: warning: format not a string literal and no format arguments [-Wformat-security]<br>
mod_ap2_snmp.c: In function &lsquo;ap2_snmp_handler&rsquo;:<br>
mod_ap2_snmp.c:601:3: warning: format not a string literal and no format arguments [-Wformat-security]<br>
/usr/local/apache2/build/libtool &ndash;silent &ndash;mode=link gcc -o mod_ap2_snmp.la  -L/usr/local/lib -rpath /usr/local/apache2/modules -module -avoid-version    mod_ap2_snmp.lo -lnetsnmp -lcrypto -ldl -g<br>
/usr/bin/ld: cannot find -lcrypto<br>
collect2: ld returned 1 exit status<br>
apxs:Error: Command failed with rc=65536</p>
							</section><!-- .comment-content --><div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="http://log.SunnyBoy.Me/2012/04/18/13618/?replytocom=281#respond" onclick='return addComment.moveForm( "comment-281", "281", "respond", "13618" )' aria-label="Reply to Arthur">Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## --><ol class="children"><li class="comment byuser comment-author-ggbingo bypostauthor odd alt depth-2" id="li-comment-284">
		<article id="comment-284" class="comment"><header class="comment-meta comment-author vcard"><img alt="" src="http://2.gravatar.com/avatar/5f8dab34faa02b216fb39e997ebc8671?s=44&amp;d=mm&amp;r=g" srcset="http://2.gravatar.com/avatar/5f8dab34faa02b216fb39e997ebc8671?s=88&amp;d=mm&amp;r=g" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Sunny</b> <span>Post author</span></cite><a href="http://log.SunnyBoy.Me/2012/04/18/13618/#comment-284"><time datetime="2012-10-10T14:38:05+00:00">2012/10/10 at 2:38 PM</time></a>			</header><!-- .comment-meta --><section class="comment-content comment"><p>&rdquo; cannot find -lcrypto &ldquo;.<br>
u need this lib.<br>
may be u could check <strong>hints-&gt;1.</strong></p>
							</section><!-- .comment-content --><div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="http://log.SunnyBoy.Me/2012/04/18/13618/?replytocom=284#respond" onclick='return addComment.moveForm( "comment-284", "284", "respond", "13618" )' aria-label="Reply to Sunny">Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## --></li><!-- #comment-## -->
</ol><!-- .children --></li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-8282">
		<article id="comment-8282" class="comment"><header class="comment-meta comment-author vcard"><img alt="" src="http://2.gravatar.com/avatar/bc2866ba26828ded5de0c19bdcd87b16?s=44&amp;d=mm&amp;r=g" srcset="http://2.gravatar.com/avatar/bc2866ba26828ded5de0c19bdcd87b16?s=88&amp;d=mm&amp;r=g" class="avatar avatar-44 photo" height="44" width="44"><cite><b class="fn">Bret</b> </cite><a href="http://log.SunnyBoy.Me/2012/04/18/13618/#comment-8282"><time datetime="2014-08-13T07:06:22+00:00">2014/08/13 at 7:06 AM</time></a>			</header><!-- .comment-meta --><section class="comment-content comment"><p>I have done all the steps you recommended.<br>
I have got:<br>
]# /usr/local/apache2/bin/apachectl -v<br>
Server version: Apache/2.0.65<br>
]# /usr/local/sbin/snmpd -v</p>
<p>NET-SNMP version:  5.6.2.1<br>
Web:               <a href="http://www.net-snmp.org/" rel="nofollow">http://www.net-snmp.org/</a><br>
Email:             <a href="mailto:net-snmp-coders@lists.sourceforge.net">net-snmp-coders@lists.sourceforge.net</a></p>
<p>]# /usr/local/apache2/bin/apachectl -l<br>
Compiled in modules:<br>
  core.c<br>
  mod_access.c<br>
  mod_auth.c<br>
  mod_include.c<br>
  mod_log_config.c<br>
  mod_env.c<br>
  mod_setenvif.c<br>
  prefork.c<br>
  http_core.c<br>
  mod_mime.c<br>
  mod_status.c<br>
  mod_autoindex.c<br>
  mod_asis.c<br>
  mod_cgi.c<br>
  mod_negotiation.c<br>
  mod_dir.c<br>
  mod_imap.c<br>
  mod_actions.c<br>
  mod_userdir.c<br>
  mod_alias.c<br>
  mod_so.c</p>
<p>&amp;<br>
installed mod_ap2_snmp_1.04.tar.gz</p>
<p>The issue is, when I perform snmpget, I always either get 0 or an empty string in return.</p>
<p>]# snmpget -v1 -c public localhost APACHE2-MIB::serverUptime.0<br>
APACHE2-MIB::serverUptime.0 = STRING: Not running<br>
]# snmpget -v2c -c public localhost APACHE2-MIB::httpError404.0<br>
APACHE2-MIB::httpError404.0 = Counter32: 0</p>
<p>The Apache error_log has following entries:<br>
[Wed Aug 13 15:32:26 2014] [notice] caught SIGTERM, shutting down<br>
[Wed Aug 13 15:32:26 2014] [error] AP2_SNMP: Can&rsquo;t set MIB value.<br>
[Wed Aug 13 15:32:26 2014] [error] APACHE2-MIB::serverStatus.0<br>
[Wed Aug 13 15:32:31 2014] [notice] Apache/2.0.65 (Unix) configured &mdash; resuming normal operations</p>
<p>What do you thing I&rsquo;ve done wrong?<br>
Please advise.</p>
<p>Regards.</p>
							</section><!-- .comment-content --><div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="http://log.SunnyBoy.Me/2012/04/18/13618/?replytocom=8282#respond" onclick='return addComment.moveForm( "comment-8282", "8282", "respond", "13618" )' aria-label="Reply to Bret">Reply</a> <span>&darr;</span>			</div><!-- .reply -->
		</article><!-- #comment-## --></li><!-- #comment-## -->
		</ol><!-- .commentlist --><div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://log.SunnyBoy.Me/2012/04/18/13618/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="http://log.SunnyBoy.Me/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245"></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"><input type="hidden" name="comment_post_ID" value="13618" id="comment_post_ID"><input type="hidden" name="comment_parent" id="comment_parent" value="0"></p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="caf7d645ed"></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="8"></p>				</form>
					</div><!-- #respond -->
		
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="calendar-3" class="widget widget_calendar"><h3 class="widget-title">Posts Calendar</h3><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar"><caption>April 2012</caption>
	<thead><tr><th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr></thead><tfoot><tr><td colspan="3" id="prev"><a href="http://log.SunnyBoy.Me/2012/03/">&laquo; Mar</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://log.SunnyBoy.Me/2012/05/">May &raquo;</a></td>
	</tr></tfoot><tbody><tr><td colspan="6" class="pad">&nbsp;</td><td>1</td>
	</tr><tr><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/09/" aria-label="Posts published on April 9, 2012">9</a></td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td><a href="http://log.SunnyBoy.Me/2012/04/15/" aria-label="Posts published on April 15, 2012">15</a></td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/16/" aria-label="Posts published on April 16, 2012">16</a></td><td>17</td><td><a href="http://log.SunnyBoy.Me/2012/04/18/" aria-label="Posts published on April 18, 2012">18</a></td><td>19</td><td>20</td><td>21</td><td>22</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/23/" aria-label="Posts published on April 23, 2012">23</a></td><td><a href="http://log.SunnyBoy.Me/2012/04/24/" aria-label="Posts published on April 24, 2012">24</a></td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td>
	</tr><tr><td><a href="http://log.SunnyBoy.Me/2012/04/30/" aria-label="Posts published on April 30, 2012">30</a></td>
		<td class="pad" colspan="6">&nbsp;</td>
	</tr></tbody></table></div></aside><aside id="categories-3" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul><li class="cat-item cat-item-3"><a href="http://log.SunnyBoy.Me/category/default/">Default</a> (75)
</li>
	<li class="cat-item cat-item-4"><a href="http://log.SunnyBoy.Me/category/english/">English</a> (1)
</li>
	<li class="cat-item cat-item-5"><a href="http://log.SunnyBoy.Me/category/for-the-music/">For The Music !</a> (55)
</li>
	<li class="cat-item cat-item-27"><a href="http://log.SunnyBoy.Me/category/jobb/">Jobb</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="http://log.SunnyBoy.Me/category/languages/">Languages</a> (5)
</li>
	<li class="cat-item cat-item-7"><a href="http://log.SunnyBoy.Me/category/leading/">Leading</a> (36)
</li>
	<li class="cat-item cat-item-83"><a href="http://log.SunnyBoy.Me/category/life/">Life</a> (134)
</li>
	<li class="cat-item cat-item-72"><a href="http://log.SunnyBoy.Me/category/matlab/">Matlab</a> (1)
</li>
	<li class="cat-item cat-item-77"><a href="http://log.SunnyBoy.Me/category/nix/">nix</a> (5)
</li>
	<li class="cat-item cat-item-1"><a href="http://log.SunnyBoy.Me/category/others/">Others</a> (719)
</li>
	<li class="cat-item cat-item-31"><a href="http://log.SunnyBoy.Me/category/php/">Php</a> (3)
</li>
	<li class="cat-item cat-item-82"><a href="http://log.SunnyBoy.Me/category/pol/">POL</a> (9)
</li>
	<li class="cat-item cat-item-86"><a href="http://log.SunnyBoy.Me/category/py/">py</a> (1)
</li>
	<li class="cat-item cat-item-76"><a href="http://log.SunnyBoy.Me/category/seo/">seo</a> (1)
</li>
	<li class="cat-item cat-item-62"><a href="http://log.SunnyBoy.Me/category/softskills/">Soft&amp;Skills</a> (47)
</li>
	<li class="cat-item cat-item-8"><a href="http://log.SunnyBoy.Me/category/stefanie/">Stefanie</a> (195)
</li>
	<li class="cat-item cat-item-11"><a href="http://log.SunnyBoy.Me/category/svenska/">Svenska</a> (25)
</li>
	<li class="cat-item cat-item-73"><a href="http://log.SunnyBoy.Me/category/sverige/">Sverige</a> (3)
</li>
	<li class="cat-item cat-item-12"><a href="http://log.SunnyBoy.Me/category/swe/">SWE</a> (2)
</li>
	<li class="cat-item cat-item-74"><a href="http://log.SunnyBoy.Me/category/cssdiv/">web</a> (5)
</li>
		</ul></aside><aside id="linkcat-2" class="widget widget_links"><h3 class="widget-title">Suggest Link</h3>
	<ul class="xoxo blogroll"><li><a href="http://blog.zhaoqi.org" rel="friend" title="A blog of my best friend." target="_blank">Q's Blog</a>
A blog of my best friend.</li>
<li><a href="http://db.tt/GlIsWkt" title="Use this link to get 250M bonus  ~ " target="_blank">Recommended Soft: DropBox</a>
Use this link to get 250M bonus  ~ </li>
<li><a href="http://feedburner.google.com/fb/a/mailverify?uri=SunnyRSS&amp;loc=en_US">Subscribe My Blog by Email</a></li>
<li><a href="http://log.SunnyBoy.Me/feed/">Subscribe My Blog by RSS</a></li>

	</ul></aside></div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo"><div class="site-info">
						<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon --></div><!-- #page -->

<script type="text/javascript" src="http://log.SunnyBoy.Me/wp-content/plugins/akismet/_inc/form.js?ver=3.1.10"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/comment-reply.min.js?ver=4.5.1"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-content/themes/twentytwelve/js/navigation.js?ver=20140711"></script><script type="text/javascript" src="http://log.SunnyBoy.Me/wp-includes/js/wp-embed.min.js?ver=4.5.1"></script></body></html>
